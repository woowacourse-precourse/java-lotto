# 설계 및 구현 과정

## 요구 사항 분석

### 입력
- 로또 구매 금액 입력 (숫자만 입력)
- 당첨 번호 입력 
- 보너스 번호 입력 (숫자만 입력)

### 출력
- 입력 요청 문구 출력
  - 구입 금액 입력 요청 문구
  - 당첨 번호 입력 요청 문구
  - 보너스 번호 입력 요청 문구


- 구매한 로또 출력
  - 구매한 개수 출력
  - 자동으로 생성된 로또 번호 출력


- 당첨 통계 출력
  - 당첨 조건, 각 조건당 당첨 금액, 당첨된 로또 개수 출력
  - 수익률 출력

### 기능
- 로또 입력 금액에 따라 살 로또 개수를 반환함
  - 로또 금액으로 나누어 떨어지지 않으면 에러를 출력
- 로또를 자동으로 발급
  - 1부터 45까지 숫자중 중복되지 않는 6개의 숫자를 뽑음
  - 위 조건에 해당하지 않으면 에러를 출력
- 발급된 로또 정보를 아래의 형식으로 구성
    ```aidl
    8개를 구매했습니다.
    [8, 21, 23, 41, 42, 43]
    [3, 5, 11, 16, 32, 38]
    [7, 11, 16, 35, 36, 44]
    [1, 8, 11, 31, 41, 42]
    [13, 14, 16, 38, 42, 45]
    [7, 11, 30, 40, 42, 43]
    [2, 13, 22, 32, 38, 45]
    [1, 3, 5, 14, 22, 45]
    ```
- 입력한 당첨번호와 로또를 비교하여 각각 몇 등에 당첨했는지 파악함
  - 1등부터 5등까지 조건을 탐색하면서 상위 조건에 해당하면 해당 등수로 파악함
- 얻은 총 금액을 통해 수익률을 계산
- 아래 형식에 따라 출력 형식을 구성
    ```aidl
    당첨 통계
    ---
    3개 일치 (5,000원) - 1개
    4개 일치 (50,000원) - 0개
    5개 일치 (1,500,000원) - 0개
    5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
    6개 일치 (2,000,000,000원) - 0개
    총 수익률은 62.5%입니다.
    ```
## 확장성 고려
- 로또 한 장당 가격 변경 가능
- 총 공의 개수, 뽑는 공의 개수 변경 가능하게 설정
- 로또 당첨 조건 변경 가능, 해당 금액 변경 가능
  - ex) 5등 : 3개 일치 (5,000원) > 5등 : 3개 일치, 보너스 볼 일치 (10,000원)
- 등수 개수 변경 가능
  - ex) 6등 : 2개 일치 (1,000원) (추가)

## 대략적인 클래스 쪼개기
- LottoShop
  - 금액을 받아 로또를 자동으로 생성
- Lotto
  - 값이 올바른지 체크, 해당 값을 가지고 있는지 체크
  - 어떤 숫자를 가지고 있는지 체크
- WinningNumberCoordinator
  - WinningNumber를 생성
  - 해당 로또가 당첨되었는지를 판단
- WinningNumber
  - 당첨 숫자가 제대로 입력되었는지 판단함
  - 로또 숫자가 몇개 당첨되었는지 판단함
- LottoSetting
  - 변경 가능한 정보들을 담고 있음
  - 해당 정보에 따라 객체를 생성

## 객체(클래스)별 최종 구현 기능

- LottoShop
    - 금액을 받아 로또를 자동으로 생성
      - 금액이 나누어 떨어지지 않으면 `IllegalArgumentException`을 발생
    - Lotto들을 받아 해당 정보들을 출력함


- Lotto
    - Lotto 입력 형식이 올바른지 체크
        - 입력 형식이 올바르지 않을 경우 `IllegalArgumentException`을 발생
    - 현재 가지고 있는 로또 정보를 String 형식으로 전달함
        - 숫자 오름차순 정리 및 양 옆에 대괄호 추가
        - ex) "[1, 2, 3, 4, 5, 6]"
    - 해당 숫자을 가지고 있는지 확인


- RewardCoordinator
    - 해당 로또가 당첨되었는지를 판단하도 결과를 출력
    - 구매 금액을 통해 수익률을 계산하여 출력


- WinningNumber
    - 당첨 숫자가 제대로 입력되었는지 판단함
    - 로또 숫자가 몇개 당첨되었는지 판단함


- LottoApplicationSetting
    - 해당 정보에 따라 객체(LottoShop)를 생성
    - 해당 정보에 따라 객체(WinningNumber)를 생성
    - 해당 정보에 따라 객체(LottoRewardCoordinator)를 생성
    - LottoSetting
        - 변경 가능한 정보들을 enum 값으로 담고 있음
    - WinningNumberSetting
        - 당첨 번호에 대한 정보를 저장하고 있음 (enum)
    - LottoRewardSetting
        - 각 상금 조건과 상금 정보를 가지고 있음 (enum)
        - 각 상금 정보를 형식에 맞추어 출력
            - ex1) "3개 일치 (5,000원)"
            - ex2) "5개 일치, 보너스 볼 일치 (30,000,000원)"
        - 당첨 번호와 똑같은 숫자의 개수에 따라 상금 조건과 일치하는지 판단


- LottoApplication (전반적인 진행 담당)
    - 전반적인 과정 구현
        - 로또 번호 자동으로 생성 및 내용 출력
        - 당첨 번호 입력 받음
        - 당첨 결과 출력


- ConsoleInput
    -  console을 통해 입력값을 받아 Integer 값으로 변환함
        - 입력값이 int 값이 아닌 경우 `IllegalArgumentException`을 발생시킴
    - console을 통해 입력값을 받아 List<Integer> 값으로 변환함
          - 형식이 올바르지 않은 경우 `IllegalArgumentException`을 발생시킴
          - 형식) 34,7,6,28,16,18

- ConsoleOutput
    -  메세지를 입력 받으면 출력하도록 함