# 💻 프로그램 동작 방식

---

1. 로또 구입 금액을 입력받는다.
2. 구입 금액에 해당하는 만큼 로또를 발행한다. (1장 당 천원)
3. 당첨 번호와 보너스 번호를 입력 받는다.
4. 사용자가 구매한 로또 번호와 당첨 번호를 비교한다.
5. 비교 후, 당첨 내역 및 수익률을 출력한다.
6. 게임을 종료한다.


# 🧰 기능 목록

---

- 입력한 금액에 따른 로또의 개수를 구한다.
  - 단, 1,000원 단위가 아니면 예외 처리한다.


- 입력 받은 당첨 번호를 쉼표 기준으로 나눈다. (split 메소드 사용)


- 발행한 로또 번호를 오름차순으로 정렬한다.


- 번호를 비교하여 몇 등인지 판별한다. (enum 활용)


- 등수에 따른 수익률을 구현한다.


- 수익률을 구한다.
  - 둘째자리에서 반올림하여 첫째자리까지만 구한다.


- 잘못된 값을 입력할 경우 `IllegalArgumentException`을 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 종료한다.
  - 돈 예외 처리
    - [x] 돈 입력시 다른 문자 포함 → parseInt 예외발생 활용
    - [x] 1,000원 단위가 아님 → 나머지 연산으로 체크
  - 당첨번호 입력 예외 처리
    - [x] 중복된 숫자가 포함 → 기존 리스트의 size와 stream 변환 후, distinct().count()를 비교해서 체크 
    - [x] 개수가 잘못됨 (6개가 아님) → 리스트 길이(size) 체크
    - [x] 당첨 번호 입력을 `,`로 구분하지 않았거나 다른 문자가 존재 → `,`로 split 후 체크
    - [x] 보너스 번호 또한 당첨 번호와 중복되지 않는지 확인
    - [x] 보너스 번호 또한 범위를 넘지 않는지 체크



# 🛠️ 클래스 설계

---

## Util

- ### LottoGenerator
```
  - 사용자에게 랜덤한 번호의 로또를 발행해준다.
```

- ### LottoNumberValidator

로또 번호를 검증하는 클래스

```
  - 숫자는 1~45 범위여야한다.
  - 중복된 번호가 있으면 안된다 (보너스 번호 포함)
  - 번호는 6개여야한다.
```

- ### Converter

입력 문자열을 숫자로 전환

```
  - String으로 들어온 로또 번호를 리스트로 변환해준다.
  - String으로 들어온 보너스 번호를 정수로 변환해준다. 
```

- ### Printer

값에 따라 적절한 출력을 해줌
```
  - 문제에서 요구하는 입출력 형식으로 출력하게 해준다.
```


## Constant
- ### ErrorMessage

에러 발생 사유를 기재해놓은 클래스

```
  - 기능 목록의 '예외 상황'에 알맞는 메세지를 상수(final static)로 가진다.
```

- ### RequestMessage

입력에 대한 출력문을 기재해놓은 클래스
```
  - 입력에 대한 출력문을 상수로 가진다.
```

- ### ResultMessage
결과에 대한 출력문을 기재해놓은 클래스

```
  - formatting 형식으로 결과 출력문을 가진다.
```

- ### LottoValue

로또와 관련된 숫자의 상수 클래스
```
  - 단위 가격, 범위, 갯수를 상수로 가진다.
```



## Lotto

로또 번호와 관련된 클래스

```
  - 숫자로 이루어진 리스트로 로또 번호를 갖는다.
  - 예외 체크 후, 로또 번호를 할당해준다.
```

## WinningLotto

당첨 로또 번호 클래스

```
  - Lotto를 상속받는다.
  - 보너스 번호를 추가로 갖는다.
```

## Buyer

로또 구매자에 대한 정보를 관리하는 클래스

```
  - 지불한 금액을 통해 로또를 발행받음
  - 발행한 로또의 당첨 내역을 가짐
```

## Rank

등수, 수령액, 일치수, 보너스볼 일치 여부로 이루어진 enum

```
  - 기능 요구 사항의 `당첨 기준 및 금액` 참고
  - 일치수, 보너스볼 일치 여부에 따라 객체 반환
```


# ❗ 주의사항 체크리스트

---

-[x] `System.exit()`를 사용하지 않았는가?

-[x] 들여쓰기 dpeth가 3이 넘지 않는가?

-[x] `Lotto` 클래스를 제한사항을 지켜 사용했는가?

-[x] 도메인 로직에 적절한 단위 테스트를 구현하였는가?

-[x] `else` 예약어를 사용하지 않았는가? (enum 사용)

-[x] 함수(메소드)의 길이가 15라인이 넘어가지 않았는가?

-[x] `enum`을 적용하여 구현하였는가?

-[x] 출력 사항을 모두 지켰는가?