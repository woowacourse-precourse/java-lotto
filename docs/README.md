# 기능 목록

## 로또 구매
- [x] 사용자는 최초에 구입 금액을 입력하는데 이 때 구입 금액은 1,000원 단위여야 함.
- [x] 로또 숫자 범위는 1 ~ 45 (해당 범위 벗어나면 예외처리)
- [x] 각 숫자는 중복되면 안됨 (입력에 같은 수가 존재할 경우 예외처리)
- [x] 사용자에게 입력받는 로또 번호는 6개의 수로 이뤄져야 함 (6개 보다 많거나 적으면 예외처t)
- [x] 로또 번호는 (당첨 번호 + 보너스 번호 총 7글자)
- [x] 사용자가 입력한 값은 `Console` 클래스의 `readLine` 메소드를 활용해 처리
- [x] 사용자가 잘못된 값을 입력할 경우 IllegalArgumentException을 발생 시킨 뒤 에러 메시지를 출력하고 종료
- [x] 예시) [ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.

## 로또 번호 생성
- [x] 각 로또 번호는 `Randoms` 클래스의 `pickUniqueNumbersInRage` 메소드를 이용해 생성
- [x] 로또 번호는 사전에 제공된 `Lotto` 클래스를 이용해서 관리해야 함
- [x] 매개변수가 없는 생성자 추가 불가, number의 접근 제어자 변경 불가
- [x] 인스턴스 변수 추가 불가, 패키지 변경은 가능

## 로또 당첨 여부 확인
- [x] 사용자가 입력한 값과 `Lotto` 클래스에 저장된 값을 비교해 당첨 여부를 확인해야 함.
- [x] 입력한 값을 컴퓨터가 생성한 당첨 번호와 비교해 당첨 결과를 출력

## 수익률 계산
- [x] 수익률 = 당첨 금액 / 사용자가 사용한 구입 금액 * 100
- [x] 수익률은 소수점 둘째 자리에서 반올림

# 클래스 구성

## LottoGame
- 프로그램이 진행되는 최상위 클래스

## ManagementLotto
- 로또 번호를 생성하는 `generateLottoNumber()` 메소드
- 로또 당첨 여부를 확인하는 `checkLottoNumber()` 메소드
- 수익률을 계산하는 `calcROI()` 메소드 / ROI = Return on investment

## Message
- 프로그램에서 출력되는 메세지들을 관리하는 클래스

## ProcessInput
- 사용자의 입력을 처리하는 클래스

## User
- 사용자 객체 클래스
- 해당 클래스에는 사용자가 입력한 로또 번호(6자리)가 저장됨
- 인스턴스 변수: 사용자의 번호 목록을 저장하기 위한 `List<List<Integer>> userNumbers`

## Lotto (사전 정의)
- 로또 번호 객체 클래스
- 로또 번호를 관리
- 해당 클래스에는 컴퓨터가 랜덤으로 생성한 로또 번호(6자리)가 저장됨
- 인스턴스 변수: 당첨 번호를 저장하기 위한 `List<Integer> numbers`

## ValidInput
- 사용자의 입력이 유효한지 검증하는 클래스
- 해당 클래스에서 검증할 항목은 아래와 같다.
  - 사용자의 입력이 정수로 변환 가능한가?
  - 사용자가 입력한 금액이 1,000원 단위의 정수인지?
  - 사용자가 입력한 번호가 1 ~ 45 사이의 정수인지?
  - 사용자가 입력한 번호 중 중복된 값이 존재하는지?
  - 사용자가 입력한 번호의 개수가 6개보다 작거나 큰지?

## PrintResult
- 결과를 출력하는 클래스

# 타임 라인
- 이번 주 과제의 핵심은 각 함수의 길이가 15가 넘지 않도록 하는 것(메소드가 한 가지 일만 하도록 만드는 것)과 Java Enum을 프로그램에 적용하는 것이다.  
또한 도메인 단위에 로직 테스트를 구현하는 것도 중요하다.
  - 이를 통해 함수를 최대한 작은 단위로 나누고 Java Enum에 대해 공부해야 할 필요성을 느꼈다.
  - Java Enum에 대해 공부한 결과 상수를 관리하는 클래스라는 것을 알게 되었다.
    - 프로그램에서 상수가 될 만한 부분을 고민해 본 결과 아래와 같았다.
1. 로또 번호의 범위인 1과 45
2. 로또 번호의 총 개수인 6
3. 로또 당첨 금액인 5,000원, 50,000원, 1,500,000원, 30,000,000원, 2,000,000,000원

- 게임은 사용자에게 구입 금액을 입력받는 것으로 시작된다.
  - 금액은 `Console` 클래스의 `readLine()` 메소드를 이용하여 받아야 한다.
  - 해당 동작을 수행하는 `inputPurchasePrice` 메소드를 생성하였다.
  - 입력받은 금액은 1,000원 단위로 나눠져야 한다. 따라서 검증 클래스의 필요성을 느꼈다.
  - 따라서, 위에서 작성한 ValidInput 클래스를 구현하였다.


- 금액이 성공적으로 입력되면 금액을 바탕으로 로또를 구입해야 한다.
  - `purchaseLotto` 메소드 생성 및 구현
  - 이후 `구입 금액을 입력해주세요.`라는 메세지와 `~개를 구매했습니다.` 라는 메세지가 출력되어야 함.
  - `System.out.println()` 으로 출력할 수 있지만 코드를 좀 더 개선하고자 출력 부분을 별도로 담당하는 `Message` 클래스 생성
  - 매개 변수로 받은 금액을 바탕으로 랜덤한 로또 번호를 생성하기 위해 메소드를 구현해야 함.
  - 프로그램의 전반적인 동작을 수행하는 `ManagementLotto` 클래스를 생성한 뒤 해당 클래스 내에 `purchase` 메소드 생성
  - 로또 번호를 생성하는 `generateRandomNumber` 메소드 구현
  - `generateRandomNumber` 메소드에서 사전에 제공되는 `Randoms` 클래스의 `pickUniqueNumbersInRang` 메소드를 이용해
  로또 번호를 생성한 뒤 Lotto 객체에 저장하여 반환
  - `purchase` 메소드는 로또 개수만큼 Lotto 객체를 생성한 뒤 Lotto형 List를 만들어 반환
  - 구입이 완료되면 구입한 로또 번호를 출력해야 한다. 이를 위해 `Message` 클래스에 `printPurchaseLotto` 메소드를 생성했다.


- 위에서 서술했듯이 상수를 관리하는 Enum 클래스를 생성하였다.
  - 로또 범위와 총 개수를 관리하는 Enum `LottoEnum`을 생성
  - 해당 Enum에는 START_NUM(1), END_NUM(45), SIZE(6)이 존재
  - 상수가 필요할때마다 해당 Enum을 호출해 상수를 받음


- 이 다음은 사용자에게 당첨 번호를 입력받는 것이다.
  - 역시나 `Console` 클래스의 `readLine()` 메소드를 이용해 값을 받은 뒤 해당값을 이용해 당첨 번호 객체를 생성해야 한다.
  - 따라서 `inputWinNumber` 메소드를 생성했다.
  - `inputWinNumber`에서 입력받은 문자열을 처리하기 위해 `ProcessVariable` 클래스를 생성한 뒤 `makeWinNumber` 메소드를 생성했다.
  - 여기서 한 가지 문제점이 발생했는데 사용자가 입력하는 로또 당첨 번호는 보너스 번호도 입력된다는 것이다.
  - 과제의 요구 사항에 `Lotto` 클래스에 인스턴스 변수를 생성하는 것을 제한했으므로 방법을 생각해내야 했다.
  - 이를 위해 `Lotto` 클래스를 상속받는 `LottoWin` 클래스를 만들기로 했다.
  - `makeWinNumber`에서 보너스 번호를 담당하려고 했으나 메소드 별로 역할을 최대한 잘게 쪼개기 위해
  - `ProcessVariable` 클래스에 `makeBonusNumber` 메소드를 생성했다.
  - 따라서 `inputWinNumber` 메소드는 `Lotto` 클래스를 상속받은 `LottoWin` 클래스 객체를 반환한다.

- 마지막으로 사용자가 구매한 로또 번호와 당첨 번호를 비교해서 당첨 결과와 수익률을 출력해야 한다.
  - 해당 기능은 `CalculateLotto` 클래스의 `calculateResult` 메소드와 `calculateROI` 메소드가 수행한다.
    - 여기서 ROI는 Return on Investment 투자 수익률의 약자이다.
  - 당첨 통계는 아래와 같은 형식으로 출력되어야 한다.
    ```
    당첨 통계
    ---
    3개 일치 (5,000원) - 1개
    4개 일치 (50,000원) - 0개
    5개 일치 (1,500,000원) - 0개
    5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
    6개 일치 (2,000,000,000원) - 0개
    총 수익률은 62.5%입니다.
    ```
  - 따라서 해당 결과에 출력되는 상수들을 관리하기 위한 `ResultEnum` 클래스를 생성했다.
  - `calculateResult` 메소드에서 계산한 바탕으로 결과를 출력해야 한다.
  - 계산과 출력은 별개의 메소드에서 이뤄져야 하기에 출력을 담당하는 메소드로 데이터를 보내줘야 한다.
  - 따라서 키를 ResultEnum 객체로 가지고 값을 당첨 개수로 가지는 Map을 보내주는게 가장 효율적이라고 판단하여 `calculateResult` 반환값을 
  EnumMap<ResultEnum, Integer>로 설정했다.
  - 수익률은 `calculateROI`에서 계산한다.
  - 계산한 EnumMap<ResultEnum, Integer>과 Double형 변수를 `Message` 클래스의 `printResult` 메소드를 이용해 출력한다.