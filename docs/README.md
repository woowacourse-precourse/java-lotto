# 🔍로또 게임

## 📮 게임 소개
로또를 사봤다면 게임의 규칙을 간단히 이해할 수 있을 것이다.  
당첨 번호와 구매한 로또 번호를 비교해 똑같은 번호가 많을수록 더 많은 상금을 타갈 수 있다.  
구매한 로또는 기본적으로 6개의 번호를 가지며, 당첨 번호는 이에 보너스 번호가 추가되어 7개의 번호로 구성되어있다.  
하나의 로또에는 중복되는 번호가 있으면 안 되며, 번호 하나당 범위는 1~45이다.  
2,3등이 보너스 번호에 의해 결정되는 구조인데 기본번호 5개가 같으면 3등, 여기에 보너스 번호까지 같다면 2등이 된다.  
구매한 로또의 번호는 무작위며 구매자가 정할 수 없다. 당첨 번호도 원래는 무작위로 산출하는데 여기서는 입력을 통해 당첨 번호를 산출한다.  
이제 한 번 로또 게임을 시작해보도록 하자!

---
## 🎯 게임 규칙
1. 먼저 로또를 구매할 만큼 금액을 입력한다. 로또는 한 장당 1,000원이며 1,000원 단위로만 입력할 수 있다. 최대 10만원까지 입력할 수 있다.
2. 금액 입력이 완료되었다면 금액에 맞게 구매한 로또들을 받을 수 있다.
3. 다음에는 당첨 번호를 입력받는다. 이때 기본 숫자 6개를 먼저 입력받는다. 입력할 때는 숫자와 쉼표가 번갈아 나와야 한다.
4. 다음에는 보너스 번호를 입력받는다.
5. 입력받은 당첨 번호와 구매한 로또 번호를 비교하여, 총 받을 상금과 수익률을 확인한다. 

---
## 💾 게임 기능에 대한 설명

기능은 클래스 단위로 설명한다. 순서대로 읽었을 때 이해할 수 있도록 기능들을 나열했다.  
각 클래스에 기능 외에 필요한 유효성 검사 과정이 존재할 수 있다. 검사를 통해 잘못된 데이터에 대한 예외가 발생한다.

### 📁 기본 입력
+ Input : 모든 입력은 이 클래스를 거쳐서 처리된다. 
  + 거쳐 가는 유효성 검사 목록은 아래와 같다.
    1. 입력에 숫자와 쉼표 외에 다른 문자가 있는지 확인
    2. 입력이 빈 문자열인지 확인.


### 📁 model에 대한 설명.

#### 게임 진행에 필요한 객체들은 크게 4가지로 나뉜다. 객체를 통해 산출한 정보들을 저장해둔다.
+ Lotto : 번호 6개를 담는 가장 기본형 객체이다. 오름차순 정렬을 거쳐 최종적으로 저장된다.
  * 거쳐 가는 유효성 검사 목록은 아래와 같다.
    1. 로또 번호의 개수가 6개인지 확인.
    2. 각 번호가 1~45의 로또 숫자 범위 안에 있는지 확인.
    3. 번호 중, 중복된 번호가 있는지 확인.
+ BoughtLottos : 구매한 로또들을 저장하는 객체이자 Lotto 객체에 대한 일급 컬렉션이다.
  + 객체를 생성할 때 필요한 기능은 아래와 같다.
    1. 중복되지 않는 무작위 번호 6개를 생성하고 이를 저장할 로또 객체 한 개를 생성.
    2. 이에 따라 지불한 금액만큼 로또 객체를 생성하고 생성된 로또 객체들의 정보를 저장. 
+ WinningLotto : 당첨 번호의 정보를 담는 객체이다. 필드가 로또 참조 변수와 보너스 번호를 저장할 변수로 구성되어있다.
  + 거쳐 가는 유효성 검사 목록은 아래와 같다.
    1. 보너스 번호가 로또 숫자 범위 안에 있는지 확인.
    2. 기본 로또 번호와 보너스 번호가 중복되는지 확인.
+ Statistics : 산출한 통계 정보를 담는 객체이다. 당첨된 등수를 누적하고 이를 토대로 수익률을 산출한다.

### 📁 process에 대한 설명.

#### 게임 진행에 필요한 단계는 4가지로 나뉜다.
+ Buying : 로또를 구매하는 과정을 담당한다. BuyingView에서 입력 처리된 값을 받아 금액만큼의 로또를 사들인다.
  + 금액을 1,000으로 나눈 값만큼 BoughtLottos 객체에서 로또들을 만들고 저장해둔다.
    + 거쳐 가는 유효성 검사 목록은 아래와 같다.
      1. 금액이 1,000~100,000 사이에 존재하는지, 또 1,000으로 나눠떨어지는지 확인.
+ WinningLottoRegister : 입력받은 당첨 번호를 저장하는 과정을 담당한다. WinningLottoRegisterView에서 입력 처리된 데이터를 받아 WinningLotto 객체에 저장한다.
+ StatisticsCalculator : 당첨 번호와 구매한 로또 번호를 비교하여 통계를 산출하는 과정을 담당한다.
  + 구매한 로또들과 당첨 로또 번호들에 대한 정보를 가져온다.
  + LottoComparison : 당첨 로또와 구매한 로또 하나를 가져와 비교한다.
    + 이 클래스의 기능은 아래와 같다.
      + 당첨 기본 번호와 구매한 로또 기본 번호들을 비교하여 똑같은 번호의 개수를 센다.
      + 구매한 로또 기본 번호에 당첨 보너스 번호가 포함되어있는지 확인한다.
      + 센 번호를 가지고 등수를 따진다.
  + 따진 등수는 Statistics 객체에 누적되어 저장된다.
  + 구매한 모든 로또들에 대해 위와 같은 과정을 진행하여 등수를 산정한다.
  + 산정한 값을 이용해 통계를 낸다.
    + 누적 상금 산출.
    + 수익률 산출.

### 📁 View에 대한 설명.

#### 게임을 진행할 때 필요한 안내 문구를 담당한다.
+ BuyingView : 로또 구매를 진행할 때 필요한 입출력을 담당한다.
  + 금액을 입력하라는 문구와 함께 금액을 입력받고, 입력값을 정수형으로 변환하여 반환한다. 금액은 1,000원 단위로만 입력할 수 있으며, 최대 100,000원 까지만 입력이 가능하다.
    + 거쳐 가는 유효성 검사 목록은 아래와 같다.
      1. 입력에 숫자 외에 쉼표가 있거나, 길이가 7을 넘어가는지 확인.
  + 금액에 따른 구매 개수와 구매한 로또 번호 리스트를 보여준다.
+ WinningLottoRegisterView : 당첨 번호 처리에 필요한 입출력을 담당한다.
  + 당첨 기본 번호를 입력하라는 문구와 함께 기본 번호 6개를 먼저 입력 받는다. 숫자 6개와 쉼표 5개가 번갈아가면서 입력되어야 한다.
    + 거쳐 가는 유효성 검사 목록은 아래와 같다.
      1. 입력의 길이가 17 이하인지 검사.
      2. 각 쉼표 앞에 숫자가 존재하는지 검사.
      3. 마지막 숫자가 존재하는지 검사.
  + 당첨 보너스 번호를 입력하라는 문구와 함께 보너스 번호를 입력받는다.
    + 거쳐 가는 유효성 검사 목록은 아래와 같다.
      1. 입력의 길이가 2 이하인지 검사.
      2. 쉼표가 있는지 검사.
    + 입력받은 값들을 알맞은 자료형으로 변환하여 반환한다.
+ StatisticsView : 최종적으로 산출된 통계 내역을 보여주는 역할을 한다.
  + 출력 내용은 아래와 같다.
    + 당첨된 내역을 정리해서 출력.
    + 이에 따른 수익률 출력. 반올림 되어 소수 첫째 자리까지 나옴.

