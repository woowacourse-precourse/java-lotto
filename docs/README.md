# 로또 게임

---
이번 3주차 미션은 **로또 게임** 이다.   
2주차때는 함수 분리와 함수별로 테스트를 작성하는 것을 목표로 했다.   
이번 3주차는 2주차 + **객체를 분리하는 연습** + **도메인 로직에 대한 단위 테스트**를 작성하는 연습이 추가되었다.   
어떤 미션인지 확인하면서 구현해야 할 부분을 간단하게 보자.
---   
## 게임 설명

- 로또를 발행할때 중복되지 않는 1-45범위의 숫자 6개를 뽑는다.
  > - 랜덤으로 숫자를 뽑는건 여기서 제공한 Random을 사용한다.   
  > - 중복된 숫자는 제공되는 함수가 있기에 정렬 하는것만 구현하면 된다.
  > - 또한 로또 클래스는 제공되기에 이를 잘 활용하는것이 관건.
- 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.
  > - 이 부분은 입력받는 부분인데, 만약 올바른 입력이 아닐 시, 예외 처리를 해줘야 한다.
  >   - 반드시 에러 메시지가 [ERROR]로 시작해야 한다. 출력 부분이니 하드 코딩하지 않고 상수를 만들고 이름을 부여해 사용한다.
  > - 입력은 쉼표를 기준으로 구분하기 때문에 이를 분리하는 작업도 필요.
  > - 보너스 번호는 따로 입력하니까 보너스 번호를 따로 변수에 넣을지 말지 고민해봐야 할듯.
- 당첨은 1-5등까지 있다. 로또 번호와 당첨번호를 비교해서 각 당첨등수인원을 산출한다.
  - 1등: 6개 번호 일치 / 2,000,000,000원
  - 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
  - 3등: 5개 번호 일치 / 1,500,000원
  - 4등: 4개 번호 일치 / 50,000원
  - 5등: 3개 번호 일치 / 5,000원
  > - 로또 번호와 당첨번호를 비교하는 기능이 필요하다. 이 부분은 로또 번호 객체에 넣을지 고민해 봐야할 사항이다.
  > - 번호를 위에서 아래로, 즉 높은 등수부터 아래로 확인 하는 방식을 사용해볼 예정이다.
  > - 각 등수가 당첨이 될때마다, 그 등수의 당첨횟수를 카운트 해주는 기능이 필요.
  > - 또한 상금을 계산해서 수익률을 계산하는 기능이 필요하다.
  >   - 수익률 = **((얻은 상금) / (총 수익)) * 100** 으로 계산하고 소수점 둘째 자리에서 반올림한다.
---   
## 요구 사항에 따른 고민해볼 부분
- Java 코드 컨벤션 준수
  > - 이 부분은 컨벤션 레퍼런스를 보면서 계속 신경써야 할듯하다.
- 함수의 길이가 15라인 안넘도록 구현
  - 함수가 한 가지 일만 잘 하도록 구현
  > - 함수가 한 가지 일만 하도록 구현을 하면 자연스럽게 15라인도 웬만하면 다 맞게된다.
- Java Enum을 적용
  > - 아직 구현하기 전이지만 하드코딩을 완화하기 위한 상수 선언하는 부분인거 같다.
- 주어진 로또 클래스
  - 넣어볼만한 기능
  > - 로또 번호들을 오름차순으로 정렬해서 출력해주는 기능
  > - 당첨번호와 비교하는 기능?(확실x)
- 로또를 관리하는 LottoReceipt 클래스 제작
  - 처음에 숫자를 입력받으면 1000으로 나눠지는지 확인하고 맞으면 Lotto객체 리스트를 생성해서 저장한다.
  - 1 ~ 5등까지 당첨인원 개수를 저장하는 변수를 만든다.
  - 로또와 당첨번호들을 비교하는 함수 제작
  - 당첨번호들이 알맞은 번호들인지 확인하는 기능
  - 수익율 계산

## 기능 목록

### 입력값 유효성 검사
- [x] 구입 금액이 1000으로 나누어 떨어지는지 확인하는 기능. - Judge#correctAmount()
- [x] 구입 금액이 자연수인지 확인하는 기능. - Judge#amountIsValid()
- [x] 입력한 당첨 번호, 보너스 번호가 숫자들로 이뤄져 있는지 확인한다. - Judge#allNumber()
- [x] 입력한 당첨 번호, 보너스 번호가 1 - 45 범위에 있는지 확인한다. - Lotto#isCorrectRange()
- [x] 보너스 번호가 당첨 번호와 겹치지 않는지 확인한다. - Judge#notContain()

### 로또 발급
- [x] 로또를 발급한다. - LottoGenerator#createLottoNumbers()
  - [x] 로또 번호가 6자리 인지 확인한다. - Lotto#isCorrectRange()
  - [x] 중복되는 로또 번호가 있는지 확인한다. - Lotto#checkDuplicatedNumber()

### 당첨번호와 비교
- [x] 발급받은 로또 번호와 입력받은 당첨 번호를 비교한다. - LottoManager#compare()
  - [x] 몇 개의 숫자가 있는지 알 수 있다. - Judge#containCount()
  - [x] 맞은 개수에 따른 결과를 분리한다. - LottoManager#checkResult()
    - [x] 1등체크하는 함수 부터 5등까지 각각 구현해 놓는다. - LottoManager

### 결과
- [x] 발행한 로또 수량 및 번호를 출력한다.
  - [x] 로또 번호는 오름차순으로 정렬해 보여준다.
- [x] 당첨 내역을 출력한다.
  - [x] 수익률은 소수점 둘째 자리에서 반올림한다.

### 예외처리
- [x] 예외 상황 시 에러 문구를 출력한다. 에러 문구는 "[ERROR]"로 시작한다.
  - throw로 내보내는건줄 알았는데 그냥 출력하는거였다. 그래서 수정.

### 그 외
- [x] Java Enum을 이용해서 하드코딩이 나올만한 부분 처리하기.
- [x] import static을 이용해서 가시성 향상시키기.
- [x] 웬만하면 불변값들은 상수화 시키기.

### 테스트 관련 오류
- [x] List.of로 받아서 정렬시 오류발생.