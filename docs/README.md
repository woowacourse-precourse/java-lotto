# 로또 게임

## 기능 목록

### Business

- [X] 플레이어로 부터 값을 입력 받는다. - request
    - [X] 플레이어로 부터 입력 받은 값을 int로 변환한다. - convertInput
    - [X] 입력 받은 값이 비어있는지 확인한다. - validationInputLength
    - [X] 입력 받은 값이 0인지 확인한다. - validationZeroAmount
    - [X] 입력 받은 값이 1,000 단위인지 확인한다. - validationAmount
    - [X] 입력 받은 값을 통해 로또 구매 개수를 확인한다. - lottoQuantity    

    
- [X] `,`로 구분된 6개의 당첨 번호와 1자리의 보너스 번호를 입력 받는다.
  - [X] ,으로 구분한 String[]을 반환한다.  - splitNumbers
  - [X] String[]로 된 당첨 번호를 리스트로 변환한다. - convertNumbers
  

- [X] List로 변환한 당첨번호의 유효성 검사를 진행한다.
  - [X] 배열의 중복 값을 제거하고 크기가 6인지 검사한다 - duplicationNumbers
  - [X] 보너스 번호가 이미 배열에 존재하는지 확인한다. - duplicationBonusNumber
  - [X] 입력한 당첨 번호 전체가 1~45 사이의 값인지 확인한다. - validationNumbersInRange
    - [X] 주어진 값이 1~45 사이의 값인지 확인한다. - validationNumberInRange


- [X] 6개의 중복되지 않는 값을 가진 리스트를 생성한다. - createLottoNumbers
- [X] 구매한 로또만큼 6개의 중복되지 않는 값을 가진 리스트를 배열에 넣어 반환한다. - buyLotto
- [X] Lotto 클래스의 numbers (로또 번호)를 반환한다. - Lotto.getNumbers


- [X] enum 클래스를 이용해 1등 ~ 5등까지의 당첨 조건과 당첨금을 상수로 선언한다. - className : Rank
    - [X] enum을 이용해 중복되는 당첨번호의 수를 전달하면 값에 맞는 등수를 반환한다. - getRank
    - [X] enum을 이용해 당첨된 수를 전달하면 총 금액(`해당 등수 * 당첨 횟수`)을 반환 받는다. - getCalAmount
    - [X] enum을 이용해 등수의 당첨금액이 얼마인지 반환 받는다. - getWinAmount


- [X] 구매한 로또 번호와 당첨 번호를 비교하여 중복된 값의 수를 반환한다.
    - [X] 등수 별 당첨 횟수를 카운팅한다. - getCompareCount
    - [X] 보너스 번호가 구매한 로또에 포함되어 있는지 확인한다. - getBonusCheck


- [X] 플레이어의 입력이 잘 못된 경우 발생시킬 Exception 클래스 구현 - className : LottoException

- [X] 수익률 계산을 하는 클래스를 생성한다. - LottoCalculator
  - [X] 총 수익을 계산한다. - calPrizeProfit
  - [X] 수익률을 반환한다. - getRate


### UI
- [X] 사용할 모든 메시지를 작성한 상수 클래스를 생성한다.

- [X] 유저에게 데이터를 요청할 메세지를 출력한다. 
    - [X] 구입 금액 - buyLottoPrice
    - [X] 당첨 번호 - prizeNumber
    - [X] 보너스 번호 - bonusNumber

- [X] 구매 완료 메세지를 출력한다. - buyLotto
- [X] 구매한 로또 목록을 출력한다. - buyLottoNumbers
- [X] 통계 결과값을 출력한다. - stats
- [X] 수익률을 출력한다. - getRate

## 기능 요구 사항

- 플레이어는 로또를 구매할 금액을 입력한다. (로또는 한 장에 `1,000원`이다.)


- 플레이어는 `1,000원` 단위로 금액을 입력해야 한다.
    - `8,000원`을 입력하면 로또는 8장이 구매된다.
    - `8,005원`을 입력하면 `1,000원`단위가 아니므로 `IllegalArgumentException`을 발생시킨다.
    - 숫자가 아닌 값을 입력하였을 때 `IllegalArgumentException`을 발생시킨다.


- 플레이어가 입력한 금액만큼 로또를 구매한다.
    - 로또의 번호는 자동으로 생성이 되며 구매한 수만큼 생성한다. `로또 구매 수 = (입력값 / 1000)`


- 플레이어가 당첨 번호 6자리와 보너스번호 1자리를 입력한다.
    - 각 자리별 구분은 `,` 이며 띄어쓰기를 허용하지 않는다.
    - 당첨번호 총 7자리는 서로 중복되지 않으며 `1~45` 사이의 값을 입력해야한다.
    - 만약 규칙을 지키지 않았다면 `IllegalArgumentException`을 발생시킨다.


- 플레이어가 입력한 번호와 구매한 로또의 번호를 비교하여 당첨 여부를 확인한다.
  > - 1등 : 당첨번호 6개 동일
  >- 2등 : 당첨번호 5개 동일 + 보너스번호 1개 동일
  >- 3등 : 당첨번호 + 보너스번호 5개 동일
  >- 4등 : 당첨번호 + 보너스번호 4개 동일
  >- 5등 : 당첨번호 + 보너스번호 3개 동일

  > - `구매 번호가 1,3,5,7,10,11` `당첨 번호가 1,3,5,9,20,35 보너스 11` 일 때  
      1, 3, 5번이 동일하고 보너스 11이 동일하므로 4등이다.


- 게임은 한 번만 진행이 되며 마지막에 1~5등 까지 당첨된 수와 당첨 금액, 수익률을 Print하고 종료한다.
    - 당첨 금액은 1,000단위 `,`를 찍어준다.
    - 수익률 계산 방법 `(당첨금액 / 구매 금액) * 100`으로 계산한다.
        - 수익률은 소수점 2번째 자리에서 반올림을 한다.


- 모든 `IllegalArgumentException` 예외 발생 시 메세지를 출력한다.
    - 메세지 문구의 앞은 `[ERROR]`로 시작해야 한다.

## 구현 제한 사항

- indent 2까지만 허용한다
- 함수의 길이가 15라인이 넘지 않도록 한다.
- else 예약어를 사용하지 않는다. (swich문도 불가)
- Enum을 사용한다.
- 도메인 로직에 단위 테스트를 구현한다. (UI 로직은 제외해도 된다)
- 외부 라이브러리는 사용하지 않는다.
- 제공된 Lotto 클래스를 활용하여 구현해야 한다.
    - 매개변수가 없는 생성자를 선언하면 안된다.
    - numbers의 접근 제어자인 private는 변경하면 안된다.
    - Lotto에 필드를 추가할 수 없다.
- 제공된 Randoms 와 Console 라이브러리를 이용한다.


## 특이사항
- 의도된 사항인지는 모르겠으나 ApplicationTest의 예외테스트 부분에서는 테스트가 통과하기 위해서 에러가 발생되었을 때   
System.out.print를 통해 메세지만 콘솔에 띄운 뒤 에러를 통해 프로그램을 종료하면 안된다.  
해당 테스트는 String으로 받은 input 데이터를 int로 parse하는 부분에서 발생을 시키는 테스트이다.  
이 테스트만 특이 케이스로 에러로 프로그램을 종료시키는게 아닌 -1 음수를 반환시켜 실행 부분에서 조건을 분석하여 프로그램을 종료시킨다.  
이 외의 모든 Exception은 Exception 에러 메세지를 통해 처리하였다.   
이유는 LottoTest에서 배열의 사이즈라 6이 아니라면 Exception을 발생시키는 것을 보고 판단하였다.