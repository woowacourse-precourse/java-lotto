package lotto.consumer;

import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import lotto.machine.Ranks;

public class Statistics {
    private final Map<Integer, Integer> statistics;
    private final List<Integer> profit;

    public Statistics(Profit profit) {
        this.profit = profit.getProfit();
        statistics = createStatistics();
        updateStatistics(this.profit);
    }

    public Map<Integer, Integer> getStatistics() {
        return statistics;
    }

    private Map<Integer, Integer> createStatistics() {
        int initialWinCount = 0;
        Map<Integer, Integer> initialStatistics = new LinkedHashMap<>();

        for (Ranks ranks : Ranks.values()) {
            initialStatistics.put(ranks.getPrizeMoney(), initialWinCount);
        }
        return initialStatistics;
    }

    private void updateStatistics(List<Integer> profit) {
        for (Integer prizeMoney : profit) {
            if (statistics.containsKey(prizeMoney)) {
                int winCount = statistics.get(prizeMoney);
                statistics.replace(prizeMoney, winCount + 1);
            }
        }
    }
}
